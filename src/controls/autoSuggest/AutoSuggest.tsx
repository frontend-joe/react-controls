import {
  ChangeEvent,
  ChangeEventHandler,
  FC,
  useEffect,
  useState,
} from "react";
import logo from "./Joegle.svg";
import "./styles.css";

const names = [
  "Aarav",
  "Aaron",
  "Abdiel",
  "Abdullah",
  "Abel",
  "Abraham",
  "Abram",
  "Ace",
  "Adam",
  "Adan",
  "Aden",
  "Adler",
  "Adonis",
  "Adrian",
  "Adriel",
  "Adrien",
  "Agustin",
  "Ahmad",
  "Ahmed",
  "Ahmir",
  "Aidan",
  "Aiden",
  "Alan",
  "Alaric",
  "Albert",
  "Alberto",
  "Alden",
  "Aldo",
  "Alec",
  "Alejandro",
  "Alessandro",
  "Alex",
  "Alexander",
  "Alexis",
  "Alfonso",
  "Alfred",
  "Alfredo",
  "Ali",
  "Alijah",
  "Alistair",
  "Allan",
  "Allen",
  "Alonso",
  "Alonzo",
  "Alvaro",
  "Alvin",
  "Amari",
  "Ambrose",
  "Ameer",
  "Amias",
  "Amir",
  "Amiri",
  "Amos",
  "Anakin",
  "Ander",
  "Anders",
  "Anderson",
  "Andre",
  "Andres",
  "Andrew",
  "Andy",
  "Angel",
  "Angelo",
  "Anthony",
  "Antonio",
  "Apollo",
  "Archer",
  "Archie",
  "Ares",
  "Ari",
  "Arian",
  "Ariel",
  "Aries",
  "Arjun",
  "Arlo",
  "Armando",
  "Armani",
  "Aron",
  "Arthur",
  "Arturo",
  "Aryan",
  "Asa",
  "Asher",
  "Ashton",
  "Atharv",
  "Atlas",
  "Atreus",
  "Atticus",
  "August",
  "Augustine",
  "Augustus",
  "Austin",
  "Avery",
  "Avi",
  "Avyaan",
  "Axel",
  "Axl",
  "Axton",
  "Ayaan",
  "Ayan",
  "Ayden",
  "Aydin",
  "Azael",
  "Azariah",
  "Aziel",
  "Azrael",
  "Azriel",
  "Baker",
  "Banks",
  "Barrett",
  "Baylor",
  "Bear",
  "Beau",
  "Beckett",
  "Beckham",
  "Bellamy",
  "Ben",
  "Benedict",
  "Benicio",
  "Benjamin",
  "Bennett",
  "Benson",
  "Bentley",
  "Bishop",
  "Bjorn",
  "Blaine",
  "Blaise",
  "Blake",
  "Blaze",
  "Bo",
  "Bode",
  "Boden",
  "Bodhi",
  "Bodie",
  "Boone",
  "Boston",
  "Bowen",
  "Bowie",
  "Braden",
  "Bradley",
  "Brady",
  "Brandon",
  "Branson",
  "Brantley",
  "Braxton",
  "Brayan",
  "Brayden",
  "Braylen",
  "Braylon",
  "Brecken",
  "Brendan",
  "Brennan",
  "Brian",
  "Briar",
  "Bridger",
  "Briggs",
  "Brixton",
  "Brock",
  "Brodie",
  "Brody",
  "Bronson",
  "Brooks",
  "Bruce",
  "Bruno",
  "Bryan",
  "Bryant",
  "Bryce",
  "Brycen",
  "Bryson",
  "Byron",
  "Cade",
  "Caden",
  "Caiden",
  "Cain",
  "Cairo",
  "Cal",
  "Caleb",
  "Callahan",
  "Callan",
  "Callen",
  "Callum",
  "Calum",
  "Calvin",
  "Camden",
  "Cameron",
  "Camilo",
  "Canaan",
  "Cannon",
  "Carl",
  "Carlos",
  "Carmelo",
  "Carson",
  "Carter",
  "Case",
  "Casen",
  "Casey",
  "Cash",
  "Cason",
  "Caspian",
  "Cassian",
  "Cassius",
  "Castiel",
  "Cayden",
  "Cayson",
  "Cesar",
  "Chaim",
  "Chance",
  "Chandler",
  "Charles",
  "Charlie",
  "Chase",
  "Chris",
  "Christian",
  "Christopher",
  "Cillian",
  "Clark",
  "Clay",
  "Clayton",
  "Clyde",
  "Cody",
  "Cohen",
  "Colby",
  "Cole",
  "Coleson",
  "Colin",
  "Collin",
  "Colson",
  "Colt",
  "Colten",
  "Colter",
  "Colton",
  "Conner",
  "Connor",
  "Conor",
  "Conrad",
  "Cooper",
  "Corbin",
  "Corey",
  "Cory",
  "Creed",
  "Crew",
  "Cristian",
  "Crosby",
  "Cruz",
  "Cullen",
  "Curtis",
  "Cyrus",
  "Dakari",
  "Dakota",
  "Dallas",
  "Dalton",
  "Damari",
  "Damian",
  "Damien",
  "Damir",
  "Damon",
  "Dane",
  "Dangelo",
  "Daniel",
  "Danny",
  "Dante",
  "Darian",
  "Dariel",
  "Dario",
  "Darius",
  "Darren",
  "Dash",
  "Davian",
  "David",
  "Davion",
  "Davis",
  "Dawson",
  "Dax",
  "Daxton",
  "Deacon",
  "Dean",
  "Deandre",
  "Declan",
  "Demetrius",
  "Dennis",
  "Denver",
  "Derek",
  "Derrick",
  "Desmond",
  "Devin",
  "Devon",
  "Dexter",
  "Diego",
  "Dilan",
  "Dillon",
  "Dimitri",
  "Dior",
  "Dominic",
  "Dominick",
  "Dominik",
  "Donald",
  "Donovan",
  "Dorian",
  "Douglas",
  "Drake",
  "Drew",
  "Duke",
  "Dustin",
  "Dylan",
  "Easton",
  "Eddie",
  "Eden",
  "Edgar",
  "Edison",
  "Eduardo",
  "Edward",
  "Edwin",
  "Eithan",
  "Eli",
  "Eliam",
  "Elian",
  "Elias",
  "Eliel",
  "Elijah",
  "Elio",
  "Eliseo",
  "Elisha",
  "Elliot",
  "Elliott",
  "Ellis",
  "Elon",
  "Emanuel",
  "Emerson",
  "Emery",
  "Emiliano",
  "Emilio",
  "Emir",
  "Emmanuel",
  "Emmett",
  "Emmitt",
  "Emory",
  "Enoch",
  "Enrique",
  "Enzo",
  "Ephraim",
  "Eric",
  "Erick",
  "Erik",
  "Ermias",
  "Ernesto",
  "Esteban",
  "Ethan",
  "Eugene",
  "Evan",
  "Evander",
  "Everest",
  "Everett",
  "Ezekiel",
  "Ezequiel",
  "Ezra",
  "Fabian",
  "Felipe",
  "Felix",
  "Fernando",
  "Finley",
  "Finn",
  "Finnegan",
  "Finnley",
  "Fisher",
  "Fletcher",
  "Flynn",
  "Ford",
  "Forest",
  "Forrest",
  "Fox",
  "Francis",
  "Francisco",
  "Franco",
  "Frank",
  "Franklin",
  "Frederick",
  "Gabriel",
  "Gael",
  "Gage",
  "Garrett",
  "Gary",
  "Gatlin",
  "Gavin",
  "Genesis",
  "George",
  "Gerardo",
  "Gian",
  "Gianni",
  "Gideon",
  "Giovanni",
  "Gordon",
  "Grady",
  "Graham",
  "Granger",
  "Grant",
  "Graysen",
  "Grayson",
  "Gregory",
  "Grey",
  "Greyson",
  "Griffin",
  "Guillermo",
  "Gunnar",
  "Gunner",
  "Gustavo",
  "Hamza",
  "Hank",
  "Harlan",
  "Harlem",
  "Harley",
  "Harold",
  "Harrison",
  "Harry",
  "Harvey",
  "Hassan",
  "Hayden",
  "Hayes",
  "Heath",
  "Hector",
  "Hendrix",
  "Henrik",
  "Henry",
  "Hezekiah",
  "Holden",
  "Houston",
  "Howard",
  "Hudson",
  "Hugh",
  "Hugo",
  "Hunter",
  "Huxley",
  "Ian",
  "Ibrahim",
  "Idris",
  "Ignacio",
  "Iker",
  "Ira",
  "Isaac",
  "Isaiah",
  "Isaias",
  "Ishaan",
  "Ismael",
  "Israel",
  "Issac",
  "Ivan",
  "Izaiah",
  "Jabari",
  "Jace",
  "Jack",
  "Jackson",
  "Jacob",
  "Jacoby",
  "Jaden",
  "Jadiel",
  "Jagger",
  "Jaiden",
  "Jaime",
  "Jair",
  "Jakai",
  "Jakari",
  "Jake",
  "Jakob",
  "Jakobe",
  "Jalen",
  "Jamal",
  "Jamari",
  "James",
  "Jameson",
  "Jamie",
  "Jamir",
  "Jamison",
  "Jared",
  "Jase",
  "Jasiah",
  "Jason",
  "Jasper",
  "Javier",
  "Jax",
  "Jaxon",
  "Jaxson",
  "Jaxton",
  "Jaxtyn",
  "Jaxx",
  "Jaxxon",
  "Jay",
  "Jayce",
  "Jayceon",
  "Jayden",
  "Jaylen",
  "Jayson",
  "Jaziel",
  "Jedidiah",
  "Jefferson",
  "Jeffrey",
  "Jensen",
  "Jeremiah",
  "Jeremias",
  "Jeremy",
  "Jericho",
  "Jerry",
  "Jesiah",
  "Jesse",
  "Jesus",
  "Jett",
  "Jimmy",
  "Jiraiya",
  "Joaquin",
  "Joe",
  "Joel",
  "Joey",
  "Johan",
  "John",
  "Johnathan",
  "Johnny",
  "Jon",
  "Jonah",
  "Jonas",
  "Jonathan",
  "Jones",
  "Jordan",
  "Jorge",
  "Jose",
  "Joseph",
  "Joshua",
  "Josiah",
  "Josue",
  "Jovanni",
  "Joziah",
  "Juan",
  "Judah",
  "Jude",
  "Judson",
  "Julian",
  "Julien",
  "Julio",
  "Julius",
  "Junior",
  "Justice",
  "Justin",
  "Kabir",
  "Kace",
  "Kade",
  "Kaden",
  "Kai",
  "Kaiden",
  "Kairo",
  "Kaiser",
  "Kaison",
  "Kaleb",
  "Kalel",
  "Kamari",
  "Kamden",
  "Kamdyn",
  "Kameron",
  "Kane",
  "Kannon",
  "Kareem",
  "Karson",
  "Karsyn",
  "Karter",
  "Kartier",
  "Kase",
  "Kasen",
  "Kash",
  "Kashton",
  "Kason",
  "Kayden",
  "Kaysen",
  "Kayson",
  "Keanu",
  "Keaton",
  "Keegan",
  "Keith",
  "Kellan",
  "Kellen",
  "Kelvin",
  "Kendrick",
  "Kenji",
  "Kenneth",
  "Kenzo",
  "Kevin",
  "Khai",
  "Khalid",
  "Khalil",
  "Khari",
  "Kiaan",
  "Kian",
  "Kieran",
  "Killian",
  "King",
  "Kingsley",
  "Kingston",
  "Knox",
  "Koa",
  "Kobe",
  "Koda",
  "Kody",
  "Koen",
  "Kohen",
  "Kole",
  "Kolton",
  "Korbin",
  "Krew",
  "Kristian",
  "Kristopher",
  "Kye",
  "Kylan",
  "Kyle",
  "Kylen",
  "Kyler",
  "Kylian",
  "Kylo",
  "Kyng",
  "Kyree",
  "Kyrie",
  "Kyro",
  "Kyson",
  "Lachlan",
  "Lance",
  "Landen",
  "Landon",
  "Landry",
  "Landyn",
  "Lane",
  "Langston",
  "Larry",
  "Lawrence",
  "Lawson",
  "Layne",
  "Layton",
  "Leandro",
  "Ledger",
  "Lee",
  "Legacy",
  "Legend",
  "Leif",
  "Leighton",
  "Leland",
  "Lennon",
  "Lennox",
  "Leo",
  "Leon",
  "Leonard",
  "Leonardo",
  "Leonel",
  "Leonidas",
  "Leroy",
  "Levi",
  "Lewis",
  "Lian",
  "Lincoln",
  "Lionel",
  "Lochlan",
  "Logan",
  "Lorenzo",
  "Louie",
  "Louis",
  "Loyal",
  "Luca",
  "Lucas",
  "Lucca",
  "Lucian",
  "Luciano",
  "Luis",
  "Luka",
  "Lukas",
  "Luke",
  "Mac",
  "Mack",
  "Madden",
  "Maddox",
  "Magnus",
  "Major",
  "Makai",
  "Malachi",
  "Malakai",
  "Malcolm",
  "Malik",
  "Manuel",
  "Marcel",
  "Marcellus",
  "Marcelo",
  "Marco",
  "Marcos",
  "Marcus",
  "Mario",
  "Mark",
  "Marshall",
  "Martin",
  "Marvin",
  "Mason",
  "Mateo",
  "Mathew",
  "Mathias",
  "Matias",
  "Matteo",
  "Matthew",
  "Matthias",
  "Maurice",
  "Mauricio",
  "Maverick",
  "Max",
  "Maximilian",
  "Maximiliano",
  "Maximo",
  "Maximus",
  "Maxton",
  "Maxwell",
  "Mccoy",
  "Mekhi",
  "Melvin",
  "Memphis",
  "Messiah",
  "Micah",
  "Michael",
  "Miguel",
  "Milan",
  "Miles",
  "Miller",
  "Milo",
  "Misael",
  "Mitchell",
  "Mohamed",
  "Mohammad",
  "Mohammed",
  "Moises",
  "Mordechai",
  "Morgan",
  "Moses",
  "Moshe",
  "Muhammad",
  "Musa",
  "Mustafa",
  "Myles",
  "Mylo",
  "Nash",
  "Nasir",
  "Nathan",
  "Nathanael",
  "Nathaniel",
  "Nehemiah",
  "Neil",
  "Nelson",
  "Neo",
  "Nicholas",
  "Nico",
  "Nicolas",
  "Niklaus",
  "Niko",
  "Nikolai",
  "Nikolas",
  "Nixon",
  "Noah",
  "Noe",
  "Noel",
  "Nolan",
  "Nova",
  "Oakley",
  "Ocean",
  "Odin",
  "Oliver",
  "Omar",
  "Omari",
  "Onyx",
  "Orion",
  "Orlando",
  "Oscar",
  "Osiris",
  "Osman",
  "Otis",
  "Otto",
  "Owen",
  "Ozzy",
  "Pablo",
  "Palmer",
  "Parker",
  "Patrick",
  "Paul",
  "Paxton",
  "Pedro",
  "Peter",
  "Peyton",
  "Philip",
  "Phillip",
  "Phoenix",
  "Pierce",
  "Porter",
  "Preston",
  "Prince",
  "Princeton",
  "Quentin",
  "Quincy",
  "Quinn",
  "Quinton",
  "Rafael",
  "Raiden",
  "Ramon",
  "Randy",
  "Raphael",
  "Raul",
  "Ray",
  "Rayan",
  "Rayden",
  "Raylan",
  "Raymond",
  "Reece",
  "Reed",
  "Reese",
  "Reid",
  "Reign",
  "Remi",
  "Remington",
  "Remy",
  "Rene",
  "Reuben",
  "Rex",
  "Rey",
  "Rhett",
  "Rhys",
  "Ricardo",
  "Richard",
  "Ricky",
  "Ridge",
  "Riggs",
  "Riley",
  "Rio",
  "River",
  "Robert",
  "Roberto",
  "Robin",
  "Rocco",
  "Rocky",
  "Rodney",
  "Rodrigo",
  "Roger",
  "Rohan",
  "Roland",
  "Roman",
  "Rome",
  "Romeo",
  "Ronald",
  "Ronan",
  "Ronin",
  "Rory",
  "Rowan",
  "Rowen",
  "Roy",
  "Royal",
  "Royce",
  "Ruben",
  "Rudy",
  "Russell",
  "Ryan",
  "Ryder",
  "Ryker",
  "Rylan",
  "Ryland",
  "Sage",
  "Saint",
  "Salem",
  "Salvador",
  "Salvatore",
  "Sam",
  "Samir",
  "Samson",
  "Samuel",
  "Santana",
  "Santiago",
  "Santino",
  "Santos",
  "Saul",
  "Sawyer",
  "Scott",
  "Sean",
  "Sebastian",
  "Sergio",
  "Seth",
  "Seven",
  "Shane",
  "Shawn",
  "Shepard",
  "Shepherd",
  "Shiloh",
  "Silas",
  "Simon",
  "Sincere",
  "Skyler",
  "Solomon",
  "Sonny",
  "Soren",
  "Spencer",
  "Stanley",
  "Stefan",
  "Stephen",
  "Sterling",
  "Stetson",
  "Steven",
  "Sullivan",
  "Sutton",
  "Sylas",
  "Tadeo",
  "Talon",
  "Tanner",
  "Tate",
  "Tatum",
  "Taylor",
  "Thaddeus",
  "Thatcher",
  "Theo",
  "Theodore",
  "Thiago",
  "Thomas",
  "Timothy",
  "Titan",
  "Titus",
  "Tobias",
  "Tomas",
  "Tommy",
  "Tony",
  "Trace",
  "Travis",
  "Trenton",
  "Trevor",
  "Trey",
  "Tripp",
  "Tristan",
  "Troy",
  "Tru",
  "Truett",
  "Tucker",
  "Turner",
  "Ty",
  "Tyler",
  "Tyson",
  "Ulises",
  "Uriah",
  "Uriel",
  "Valentin",
  "Valentino",
  "Van",
  "Vance",
  "Vicente",
  "Victor",
  "Vihaan",
  "Vincent",
  "Vincenzo",
  "Wade",
  "Walker",
  "Wallace",
  "Walter",
  "Warren",
  "Watson",
  "Waylon",
  "Wayne",
  "Wells",
  "Wes",
  "Wesley",
  "Wesson",
  "Westin",
  "Westley",
  "Weston",
  "Wilder",
  "William",
  "Wilson",
  "Winston",
  "Wyatt",
  "Wylder",
  "Xander",
  "Xavier",
  "Yaakov",
  "Yadiel",
  "Yahir",
  "Yehuda",
  "Yisroel",
  "Yosef",
  "Yousef",
  "Yusuf",
  "Zachariah",
  "Zachary",
  "Zahir",
  "Zaid",
  "Zaiden",
  "Zain",
  "Zaire",
  "Zakai",
  "Zander",
  "Zane",
  "Zavier",
  "Zayd",
  "Zayden",
  "Zayn",
  "Zayne",
  "Zechariah",
  "Zeke",
  "Zev",
  "Zion",
  "Zyair",
  "Zyaire",
  "Zyon",
];

const useDebounce = (value: string, delay: number) => {
  const [debouncedValue, setDebouncedValue] = useState<string>(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);
    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
};

const Header = () => <img src={logo} />;

const Footer = () => (
  <>
    <div className="buttons">
      <button>Joegle Search</button>
      <button>I'm Feeling Lucky</button>
    </div>
    <p>
      <a>Shop final Black Friday device deals</a> on the Joegle Store today.
    </p>
  </>
);

type SearchProps = {
  handleClicked: (name: string) => void;
  handleSearched: ChangeEventHandler<HTMLInputElement>;
  results: string[];
  searchTerm: string;
};

const Search: FC<SearchProps> = ({
  handleSearched,
  handleClicked,
  results,
  searchTerm,
}) => (
  <div className="search">
    <span className="material-symbols-outlined">search</span>
    <input
      value={searchTerm}
      spellCheck={false}
      type="text"
      onChange={handleSearched}
    />
    <div className="menu">
      <div>
        {results.map((name) => (
          <button key={name} onClick={() => handleClicked(name)}>
            {name}
          </button>
        ))}
      </div>
    </div>
  </div>
);

export const AutoSuggest = () => {
  const [searchTerm, setSearchTerm] = useState<string>("");

  const [results, setResults] = useState<string[]>([]);

  const debouncedSearchTerm = useDebounce(searchTerm, 500);

  const handleSearched = (e: ChangeEvent<HTMLInputElement>) => {
    setSearchTerm(e.target.value);
  };

  const handleClicked = (name: string) => {
    setSearchTerm(name);
  };

  useEffect(() => {
    const namesCopy = [...names];
    setResults(
      namesCopy.filter(
        (n, i) =>
          searchTerm === "" ||
          n.toLowerCase().includes(searchTerm.toLowerCase())
      )
    );
  }, [debouncedSearchTerm]);

  return (
    <>
      <Header />
      <Search
        searchTerm={searchTerm}
        handleSearched={handleSearched}
        handleClicked={handleClicked}
        results={results}
      />
      <Footer />
    </>
  );
};
